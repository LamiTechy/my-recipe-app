<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Recipe Book App</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #fef9f4;
      padding: 20px;
      margin: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    header {
      text-align: center;
      margin-bottom: 10px;
    }

    h1 {
      color: #e67e22;
    }

    .search-bar {
      margin-bottom: 20px;
    }

    #searchInput {
      padding: 10px;
      width: 300px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    .container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
      width: 100%;
      max-width: 1000px;
    }

    .recipe-card {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      width: 250px;
      padding: 15px;
      cursor: pointer;
    }

    .recipe-card h3 {
      color: #e67e22;
    }

    .recipe-card p {
      font-size: 14px;
      color: #555;
    }

    .add-recipe-btn¬†{
        background: #e67e22;
      color: rgb(238, 90, 5);
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 10px;
    }

    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.6);
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background: white;
      padding: 20px;
      width: 90%;
      max-width: 500px;
      border-radius: 10px;
      position: relative;
    }

    .close-btn {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 20px;
      cursor: pointer;
    }

    input, textarea {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    textarea {
      resize: vertical;
    }

    .delete-btn {
      background: #c0392b;
      color: white;
      padding: 5px 10px;
      border: none;
      border-radius: 5px;
      margin-top: 10px;
      cursor: pointer;
    }
      .recipe-card {
      transition: transform 0.3s ease;
      touch-action: pan-y;
    } 

    @media (max-width: 768px) {
  .container {
    flex-direction: column;
    align-items: center;
  }

  .recipe-card {
    width: 90%;
  }

  #searchInput {
    width: 90%;
  }

  .modal-content {
    width: 95%;
  }
}

@media (max-width: 480px) {
  h1 {
    font-size: 22px;
  }

  .add-recipe-btn {
    width: 90%;
    font-size: 14px;
  }

  input, textarea {
    font-size: 14px;
  }

  .delete-btn {
    padding: 4px 8px;
    font-size: 13px;
  }
}

#loader {
  position: fixed;
  top: 0; left: 0;
  width: 100%;
  height: 100%;
  background: #fef9f4;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  opacity: 1;
  transition: opacity 1s ease;
}

.spinner {
  border: 5px solid #f3f3f3;
  border-top: 5px solid #e67e22;
  border-radius: 50%;
  width: 50px;
  height: 50px;
  animation: spin 1s linear infinite;
  margin-bottom: 10px;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.loader-text {
  font-size: 18px;
  color: #e67e22;
  font-weight: bold;
  text-align: center;
  animation: bounce 1s infinite;
}

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}


.recipe-content {
  max-height: 120px;
  overflow: hidden;
  transition: max-height 0.5s ease;
}

.recipe-card.expanded .recipe-content {
  max-height: 1000px;
}

.read-more-btn {
  background: none;
  border: none;
  color: #e67e22;
  font-weight: bold;
  cursor: pointer;
  margin-top: 8px;
}



  </style>
</head>
<body>
  <div id="loader">
    <div class="spinner"></div>
    <div class="loader-text">üçΩ Loading Recipe Book...</div>
  </div>
  
  <header>
    <h1>üçΩ My Recipe Book</h1>
    <button style="      background: #e67e22;
    color: rgb(15, 15, 15);
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 10px;" class="add-recipe-btn" onclick="openModal()">Add Recipe</button>
  </header>

  <div class="search-bar">
    <input type="text" id="searchInput" oninput="filterRecipes()" placeholder="Search recipes...">
  </div>

  <div class="container" id="recipeContainer"></div>

  <!-- Modal -->
  <div class="modal" id="recipeModal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal()">&times;</span>
      <h2>Add New Recipe</h2>
      <input type="text" id="titleInput" placeholder="Recipe Title">
      <textarea id="ingredientsInput" placeholder="Ingredients (comma separated)"></textarea>
      <textarea id="instructionsInput" placeholder="Instructions"></textarea>
      <button style="      background: #e67e22;
      color: rgb(8, 8, 8);
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 10px;" class="add-recipe-btn" onclick="addRecipe()">Save Recipe</button>
    </div>
  </div>

  <script>
    const recipeContainer = document.getElementById('recipeContainer');
    const modal = document.getElementById('recipeModal');
    let recipes = [];

    function loadRecipes() {
      const stored = localStorage.getItem('recipes');
      recipes = stored ? JSON.parse(stored) : [];
    }

    function saveRecipes() {
      localStorage.setItem('recipes', JSON.stringify(recipes));
    }

    function enableSwipe(card, id) {
  let startX = 0;

  card.addEventListener('touchstart', (e) => {
    startX = e.touches[0].clientX;
  });

  card.addEventListener('touchend', (e) => {
    const endX = e.changedTouches[0].clientX;
    const diffX = endX - startX;

    if (diffX < -80) {
      card.style.transform = 'translateX(-100%)';
      setTimeout(() => {
        deleteRecipe(id); // swipe left to delete
      }, 200);
    } else if (diffX > 80) {
      card.style.transform = 'translateX(100%)';
      setTimeout(() => {
        alert('You swiped right!'); // optional
        renderRecipes();
      }, 200);
    }
  });
}


    function renderRecipes(list = recipes) {
      recipeContainer.innerHTML = '';
      list.forEach(recipe => {
        const card = document.createElement('div');
        card.className = 'recipe-card';
        card.innerHTML = `
          <h3>${recipe.title}</h3>
          <p><strong>Ingredients:</strong><br>${recipe.ingredients}</p>
          <p><strong>Instructions:</strong><br> ${recipe.instructions}</p>
           <button class="read-more-btn" onclick="toggleRecipe(this)">Read More</button>
          <button class="delete-btn" onclick="deleteRecipe(${recipe.id})">Delete</button>
        `;
        recipeContainer.appendChild(card);
    enableSwipe(card, recipe.id); // make this card swipeable
  });

    }

    function toggleRecipe(button) {
  const card = button.closest('.recipe-card');
  card.classList.toggle('expanded');
  button.textContent = card.classList.contains('expanded') ? 'Show Less' : 'Read More';
}


    function filterRecipes() {
      const query = document.getElementById('searchInput').value.toLowerCase();
      const filtered = recipes.filter(recipe =>
        recipe.title.toLowerCase().includes(query) ||
        recipe.ingredients.toLowerCase().includes(query)
      );
      renderRecipes(filtered);
    }

    function openModal() {
      modal.style.display = 'flex';
    }

    function closeModal() {
      modal.style.display = 'none';
      document.getElementById('titleInput').value = '';
      document.getElementById('ingredientsInput').value = '';
      document.getElementById('instructionsInput').value = '';
    }

    function addRecipe() {
      const title = document.getElementById('titleInput').value.trim();
      const ingredients = document.getElementById('ingredientsInput').value.trim();
      const instructions = document.getElementById('instructionsInput').value.trim();
      if (title && ingredients && instructions) {
        const newRecipe = {
          id: Date.now(), // unique ID
          title,
          ingredients,
          instructions
        };
        recipes.push(newRecipe);
        saveRecipes();
        renderRecipes();
        closeModal();
      } else {
        alert('Please fill in all fields!');
      }
    }

    function deleteRecipe(id) {
      recipes = recipes.filter(recipe => recipe.id !== id);
      saveRecipes();
      renderRecipes();
    }

    window.onclick = function(e) {
      if (e.target == modal) closeModal();
    }

    window.addEventListener('load', () => {
      setTimeout(()¬†=>¬†{
        const loader = document.getElementById('loader');
    loader.style.opacity = '0';
    setTimeout(() => {
      loader.style.display = 'none';
    }, 1000);
  }, 5000); // 10 seconds
});


    
    // Initialize
    loadRecipes();
    renderRecipes();
  </script>

</body>
</html>
